function initParticles(){const e=document.getElementById("particles"),i=e.getContext("2d"),n=(e.width=window.innerWidth,e.height=window.innerHeight,[]);class d{constructor(){this.x=Math.random()*e.width,this.y=Math.random()*e.height,this.size=2*Math.random()+1,this.speedX=3*Math.random()-1.5,this.speedY=3*Math.random()-1.5}update(){this.x+=this.speedX,this.y+=this.speedY,this.x>e.width&&(this.x=0),this.x<0&&(this.x=e.width),this.y>e.height&&(this.y=0),this.y<0&&(this.y=e.height)}draw(){i.fillStyle="rgba(255,255,255,0.5)",i.beginPath(),i.arc(this.x,this.y,this.size,0,2*Math.PI),i.fill()}}for(let t=0;t<50;t++)n.push(new d);!function t(){i.clearRect(0,0,e.width,e.height),n.forEach(t=>{t.update(),t.draw()}),requestAnimationFrame(t)}(),window.addEventListener("resize",()=>{e.width=window.innerWidth,e.height=window.innerHeight})}const audio=document.getElementById("bgm"),progress=document.getElementById("progress");function seek(t){var e=t.target.getBoundingClientRect(),t=(t.clientX-e.left)/e.width;audio.currentTime=t*audio.duration}function toggleMusic(t){audio.paused?audio.play():audio.pause(),t.classList.toggle("playing")}function toggleMenu(t){t.classList.toggle("active");t=document.getElementById("menu");t.style.display="block"===t.style.display?"none":"block"}audio.ontimeupdate=()=>{progress.style.width=audio.currentTime/audio.duration*100+"%"},document.addEventListener("click",t=>{t.target.closest(".menu-container")||(document.getElementById("menu").style.display="none",document.querySelector(".menu-btn").classList.remove("active"))}),window.onload=()=>{initParticles(),document.addEventListener("click",()=>{audio.play().catch(()=>{})},{once:!0})};